**Video Displaying Project : ** https://www.youtube.com/watch?v=7l2GpuoWjjI&t=81s

**Abstract**
The purpose of my project was to make my dorm room livelier. My dorm was very dark because it faced sunset and there were other buildings in front of my windows, so sunlight was scarce. I used LEDs connect to a real-time clock module to turn on in the mornings in bright yellow (sunrise), turn off after a few minutes, and then turn on again in the evening in a orange/red tone to mimic sunset Furthermore, I really wanted to have a lightshow in my dorm that would react to music since music is always playing in my dorm. To do this, I used a sound detector module that fed an analog signal from the mic to the Arduino and then have the LEDs react to the volume of the music.
Description:

To achieve my goals, I needed five components: LED strips, sound detector module, real-time clock module, a switch, and the Arduino Uno board. First, I hooked up the LED strip to the Arduino and ran a default sketch to make sure they worked. The three pins for the LEDs are 5V, GND, and A2. It turns out that FastLED and Adafruit_NeoPixel libraries both worked with my LEDs. When I connected two LED strips together, they were not turning on to the brightness of one LED, and that is when I found out that I had to use a capacitator (CL) of 100 μF to buffer the current drawn by the LED strips’ in case it was a sudden change, which was important for the reacting to sound portion since they had to quickly turn on and off and change colors simultaneously.
When applying the sound detector module, I only needed to use the Envelope, Vcc, and GND pins. The envelope takes the analog signal that the microphone receives and amplifies, and sends it to the Arduino board, into Pin A0, and the code for the sound detecting portion takes that input and then reads it and divides it into different components, one of them being volume. If the volume is greater than a specific threshold, then the loop will go through CyclePalette() and the CycleVisual() functions. These functions use the volume information to determine brightness, color, and fade of the LEDs. That

The most difficult part of this project was getting the clock function to work with the LEDs. Originally, I was going to use the millis() function of the Arduino and calculate the time I wanted the lights to turn on in milliseconds. This VERY quickly became a problem because I would have to turn off my computer or move around and that would reset the millis() function and I would need to recalculate the time in order to test it. Furthermore, it was very difficult to write if statements with delay() when I depended on the millis() to continue. I eventually decided to buy a real-time clock module as it would make the entire process a lot easier.

When I received the real-time clock module, another issue arose. I connected the Real-time clock module pins Vcc, GND, SDA, and SCL to 5v, GND, SDA, and SCL. Notice how those last two were not bolded. I spent three days writing different if statements in order to read the clock module’s time and make the LEDs turn on at a specific time. For some reason, every time I set the clock to go, the first four LEDs would turn white and stay

that way until I disconnected the LEDs. The Serial Monitor would print out the time properly, but the lights were not doing what they should be doing. Furthermore, when I told the program to print out text at certain time, it would print it out just fine. That is when I thought it might be the Arduino board that was the problem. While talking with Darrell, we thought it might be that there is a conflict with the Adafruit_NeoPixel library so I started using the FastLED library (which is why I have both in my final code). That still did not fix the problem. Then, Darrell discovered that the SDA and SCL pins from the clock had to be connected to pins A4 and A5 respectively; however, that is where I originally had the LEDs connected! So, I had to change the pin for the LEDs to A2 and then connect the SDA and SCL pins to A4 and A5 and the lights worked with the clock! When working on fading the LEDs and changing the colors within the time period, I had to use delays that would add up to N.01, where the N equaled the time period allotted. I am still not entirely sure why that worked, but the LEDs were turning on at the times that I wanted them to turn on and turning off when I wanted them to turn off.

Finally, I added a switch, SF, that would switch between the clock function and the sound detector function with a flick of a switch. I originally thought about using a button but after talking with Alex, debouncing seemed to a bit too much work. I found a switch in the ES50 lab bags that we received and started playing with it. I had no idea how to use it until Anisha explained that when the switch is flicked towards the ground pin and the information pin, it is HIGH, while if it is on the opposite side, it is LOW so no current will run through the DATA pin. With that information, I stated that if the pin was HIGH, to turn the LEDs blue and if it was LOW, then the LEDs should be red. This seemed to work just fine, so I had all the different components of my project, I just had to put them together.

I will admit, that I am not much of a coder so although there probably are ways to simplify my code, I just put all three different codes together based on what I wanted. That is why there are multiple LED libraries. Another thing that I would change about my code is to not use delay() because when the LEDs are going through the sunrise/sunset loop, the switch does not affect the circuit. It has to go through the entire loop and all the delays, which can be a bit annoying if I want to change the function right away.



Additional Sources:
Hooking up LEDs
https://www.digikey.com/en/maker/projects/apa102-addressable-led-hookup- guide/093dc573bcf2487ab2146cec7fd870b3
Working with LEDs and Real-Time Clock
https://www.instructables.com/id/DIY-Bed-LEDs-Time-and-Motion-Activated-Video- Tutor/
Sound Reactive -
https://create.arduino.cc/projecthub/buzzandy/music-reactive-led-strip-5645ed
